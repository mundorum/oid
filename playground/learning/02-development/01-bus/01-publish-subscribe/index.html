<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Playground</title>
  <script type="module">
    import { Bus } from '/lib/oidlib-dev.js'

    function notify (topic, message) {
      const messageObj = document.querySelector("#show-message")
      messageObj.innerHTML = `[${topic}] ${message.value}`
    }

    // subscriber
    Bus.i.subscribe('test/topic', notify)

    // publisher
    Bus.i.publish('test/topic', {value: 'Hello, world!'})
  </script>
</head>
<body>
  <h1>Playground</h1>
  Message: <span id="show-message"></span>
</body>
</html>