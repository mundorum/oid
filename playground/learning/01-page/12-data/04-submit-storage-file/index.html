<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Submit Auto Example</title>
  <link rel="stylesheet" href="/lib/foundation/oiddefault.css">
  <script src="/lib/foundation/oidlib.js"></script>
</head>
<body>
  <h1>Submit with Storage Example</h1>
  <p>Show how a submit without an schema.</p>

  <form>
    <div class="form-group">
      <label for="title">Title</label>
      <input type="text" class="form-control" id="title" name="title">
    </div>
    <div class="form-group">
      <label for="description">Description</label>
      <textarea id="description" name="description"></textarea>
    </div>
    <submit-oid subscribe="form/submit~submit;form/update~update" publish="submit~form/submitted"></dcc-submit>
    </div>
  </form>

  <h2>Local Storage Area</h2>

  <button-oid label="Submit" publish="click~form/submit"></button-oid>
  <button-oid label="Load" publish="click~storage/load"></button-oid>

  <local-storage-oid subscribe="form/submitted~store;storage/load~load"
                     publish="loaded~form/update"
                     dataset="test-mundorum-oid" collection="test" key="test">
  </local-storage-oid>

  <h2>File Area</h2>

  <h3>Upload</h3>

  <file-oid publish="loaded~form/update" subscribe="data/download~store"
            filename="card.json" filetype="json">
  </file-oid>

  <h3>Download</h3>
  <switch-oid value="off" subscribe="form/submitted~republish"
                          publish="republish~data/download">
  </switch-oid>
</body>
</html>